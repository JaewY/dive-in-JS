# 40장 이벤트

<br>
<br>
<br>

## 40-1 이벤트 드리븐 프로그래밍

<br>

어떤 이벤트가 발생했을 때, 호출될 함수를 브라우저에 알려 호출을 위임하고, 이때 함수를 이벤트 핸들러, 위임을 이벤트 핸들러 등록이라고 한다.

이벤트와 그에 대응하는 함수를 통해 사용자와 애플리케이션은 상호작용을 할 수 있고, 이처럼 프로그램 흐름을 이벤트 중심으로 제어하는 프로그래밍 방식을 이벤트 드리븐 프로그래밍이라고 한다.

---

<br>
<br>
<br>

## 40-2 이벤트 타입

<br>

### 2-1 마우스 이벤트

- click
- dbclick
- mousedown
- mouseup
- mousemove
- mouseenter (마우스 커서를 HTML 요소 안으로 이동했을 때 / 버블링 X)
- mouseover (마우스 커서를 HTML 요소 안으로 이동했을 때 / 버블링 O)
- mouseleave (마우스 커서를 HTML 요소 밖으로 이동했을 때 / 버블링 O)
- mouseout (마우스 커서를 HTML 요소 밖으로 이동했을 때 / 버블링 X)

### 2-2 키보드 이벤트

- keydown
- keypress (문자 키를 눌렀을 때 연속적으로 동작)
- keyup (누르고 있던 키를 놓았을 때 한번 발생)

### 2-3 포커스 이벤트

- focus (HTML 요소가 포커스를 받았을 때 / 버블링 X)
- blur (HTML 요소가 포커스를 잃었을 때 / 버블링 X)
- focusin (HTML 요소가 포커스를 받았을 때 / 버블링 O)
- focusout (HTML 요소가 포커스를 잃었을 때 / 버블링 O)

### 2-4 폼 이벤트

- submit
- reset (최근에는 사용 X)

### 2-5 값 변경 이벤트

- input
- change
- readystatechange

### 2-6 DOM 뮤테이션 이벤트

- DOMContentLoaded (HTML 문서의 로드와 파싱이 완료되어 DOM 생성이 완료되었을 때)

### 2-7 뷰 이벤트

- resize (브라우저 윈도우 크기를 리사이즈할 때 연속적으로 발생)
- scroll (웹 페이지 또는 HTML 요소를 스크롤할 때 연속적으로 발생)

### 2-8 리소스 이벤트

- load
- unload
- abort
- error

---

<br>
<br>
<br>

## 40-3 이벤트 핸들러 등록

이벤트 핸들러를 등록하는 방법은 3가지

<br>

### 3-1 이벤트 핸들러 어트리뷰트 방식

### 3-2 이벤트 핸들러 프로퍼티 방식

### 3-3 addEventListener 메서드 방식

---

<br>
<br>
<br>

## 40-4 이벤트 핸들러 제거

<br>

removeEventListener를 사용, addEventListener 메서드와 동일한 인수 전달해야 삭제 가능.

---

<br>
<br>
<br>

## 40-5 이벤트 객체

이벤트가 발생하면 이벤트에 관련된 다양한 정보를 담고 있는 이벤트 객체가 동적으로 생성된다. 생성된 이벤트 객체는 이벤트 핸들러의 첫 번째 인수로 전달된다.

<br>

### 5-1 이벤트 객체의 상속 구조

이벤트가 발생하면 암묵적으로 생성되는 이벤트 객체도 생성자 함수에 의해 생성된다. 그리고 생성된 이벤트 객체는 생성자 함수와 더불어 생성되는 프로토타입으로 구성된 프로토타입 체인의 일원이 된다.

### 5-2 이벤트 객체의 공통 프로퍼티

Event 인터페이스, 즉 Event.prototype에 정의되어 있는 이벤트 관련 프로퍼티는 UIEvent, CustomEvent, MouseEvent 등 모든 파생 이벤트 객체에 상속된다. 즉 Event 인터페이스의 이벤트 관련 프로퍼티는 모든 이벤트 객체가 상속받는 공통 프로퍼티다. 이벤트 객체의 공통 프로퍼티는 다음과 같다.

|   공통프로퍼티   |                                                                                                                                       설명                                                                                                                                       |     타입      |
| :--------------: | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------: | :-----------: |
|       type       |                                                                                                                                    이벤트타입                                                                                                                                    |    string     |
|      target      |                                                                                                                            이벤트를 발생시킨 DOM 요소                                                                                                                            | DOM 요소 노드 |
|  currentTarget   |                                                                                                                        이벤트 핸들러가 바인딩된 DOM 요소                                                                                                                         | DOM 요소 노드 |
|    eventPhase    |                                                                                                이벤트 전파 단계 <br> 0: 이벤트 없음, 1: 캡쳐링 단계, 2: 타깃 단계, 3: 버블링 단계                                                                                                |    number     |
|     bubbles      |                            이벤트를 버블링으로 전파하는지 여부,<br>다음 이벤트는 bubbles: false로 버블링하지 않는다. <br> _ 포커스 이벤트 focus / blur <br> _ 리소스 이벤트 load / unload / abort / error <br> 마우스 이벤트 mouseenter / mouseleave                             |    boolean    |
|    cancelable    | preventDefault 메서드를 호출하여 이벤트의 기본 동작을 취소할 수 있는지 여부, <br> 다음 이벤트는 cancelable: false로 호출할 수 없다. <br> _ 포커스 이벤트 focus / blur <br> _ 리소스 이벤트 load / unload / abort / error <br> \* 마우스 이벤트 dbclick / mouseenter / mouseleave |    boolean    |
| defaultPrevented |                                                                                                            preventDefault 메서드를 호출하여 이벤트를 취소했는 지 여부                                                                                                            |    boolean    |
|    isTrusted     |                                                          사용자의 행위에 의해 발생한 이벤트인지 여부, 예를 들어 click 메서드 또는 dispatchEvent 메서드를 통해 인위적으로 발생시킨 이벤트인 경우 isTrusted는 false이다.                                                           |    boolean    |
|    timeStamp     |                                                                                                            이벤트가 발생한 시각(1970/01/01/00:00:0부터 경과한 밀리초)                                                                                                            |    number     |

### 5-3 마우스 정보 취득

마우스 포인터의 좌표 정보를 나타내는 프로퍼티

- screenX/screenY clientX/clientY pageX/pageY offsetX/offsetY

버튼 정보를 나타내는 프로퍼티

- altKey, ctrlKey, shiftKey, button

### 5-4 키보드 정보 취득

---

<br>
<br>
<br>

## 40-6 이벤트 전파

<br>

예를 들어 클릭 이벤트가 발생하면 이때 생성된 이벤트 객체는 이벤트를 발생시킨 DOM 요소인 이벤트 타깃을 중심으로 DOM 트리를 통해 전파된다. 전파는 객체가 전파되는 방향에 따라 3단계로 나눌 수 있다.

1. capturing phase: 이벤트가 상위 요소에서 하위 요소 방향으로 전파
2. target phase: 이벤트가 이벤트 타깃에 도달
3. bubbling phase: 이벤트가 하위 요소에서 상위 요소 방향으로 전파

이벤트는 이벤트를 발생시킨 이벤트 타깃은 물론 상위 DOM요소에서도 캐치할 수 있다.

---

<br>
<br>
<br>

## 40-7 이벤트 위임

<br>

내용

---

<br>
<br>
<br>

## 40-8 DOM 요소의 기본 동작 조작

<br>

### 8-1 DOM 요소의 기본 동작 중단

DOM 요소는 각각의 기본 동작이 있다. 이를 막기 위해서 event.preventDefault 메서드를 사용한다.

### 8-2 이벤트 전파 방지

e.stopPropagation 메서드를 사용한다.

---

<br>
<br>
<br>

## 40-9 이벤트 핸들러 내부의 this

<br>

### 9-1 이벤트 핸들러 어트리뷰트 방식

```
const handle = () => {
    console.log(this) // 이 this는 window 객체를 가리킨다.
}
```

### 9-1 이벤트 핸들러 프로퍼티 방식과 addEventListener 메서드 방식

---

<br>
<br>
<br>

## 40-10 이벤트 핸들러 인수에 전달

<br>

이벤트 핸들러 내부에서 함수를 호출하면서 인수를 전달하는 방법을 사용해야 한다.

---

<br>
<br>
<br>

## 40-11 커스텀 이벤트

<br>

### 11-1 커스텀 이벤트 생성

### 11-2 커스텀 이벤트 디스패치

---

<br>
<br>
<br>
