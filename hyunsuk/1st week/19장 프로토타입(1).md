# 19장 프로토타입


## 19.1 객체지향 프로그래밍

### 여러개의 독립적 단위, 즉 객체의 집합으로 프로그램을 표현하려는 프로그래밍 패러다임

### 객체를 상태를 나타내는 데이터(프로퍼티)와 동작(메소드)을 하나의 논리적인 단위로 묶어서 생각

## 19.2 상속과 프로토타입

### 상속은 어떤 객체의 프로퍼티와 메소드를 상속받아 그대로 사용할 수 있는 것

- 상속을 통해 불필요한 중복 제거 
- 프로토타입을 기반으로 상속을 구현한다.
- 생성자 함수가 생성할 모든 인스턴스가 공통적으로 사용할 프로퍼티나 메서드를 프로토타입에 미리 구현해 두면 
생성자 함수가 생성할 모든 인스턴스는 별도의 구현 없이 상위(부모) 객체인 프로토타입의 자산을 공유하여 사용할 수 있다.

## 19.3 프로토타입 객체 

### 프로토타입 객체(프로토타입)란 객체간 상속을 구현하기 위해 사용된다.

- 모든 객체는 [[Prototype]]이란 내부 슬롯을 가진다.
- [[Prototype]]에 저장되는 프로토타입은 객체 생성 방식에 의해 결정된다
- 즉 , 객체가 생성될 때 객체 생성 방식에 따라 프로토타입이 결정되고 [[Prototype]]에 저장된다
- 객체와 프로토타입과 생성자함수는 다 연결되어 있다.

<img width="372" alt="스크린샷 2022-07-13 오후 3 16 33" src="https://user-images.githubusercontent.com/95524491/178663781-60d7184b-c5b2-46bf-be30-4638fbcbce49.png">

### 19.3.1 __ proto __ 접근자 프로퍼티

#### 모든 객체는 __ proto __ 접근자 프로퍼티를 통해 자신의 프로토타입, 즉 [[Prototype]] 내부 슬롯에 간접적으로 접근할 수 있다.

- __ proto __ 는 접근자 프로퍼티이다.
- 접근자 프로퍼티는 자체적으로 값을 갖지 않고 [[Get]], [[Set]] 프로퍼티 어트리뷰트로 구성된 프로퍼티이다.
- __ proto __ 접근자 프로퍼티는 상속을 통해 사용된다.
- __ proto __접근자 프로퍼티를 통해 프로토타입에 접근하는 이유는 상호 참조에 의해 프로토타입 체인이 생성되는것을 방지하기 위해서다
- __ proto __ 접근자 프로퍼티를 코드 내에서 직접 사용하는것은 권장하지 않는다.
- 대신 Object.getPrototypeOf, Object.setPrototypeOf를 사용해야 한다.
```Js
const obj = {};
const parent = { x: 1 };

// obj 객체의 프로토타입을 취득
Object.getPrototypeOf(obj); // obj.__proto__;
// obj 객체의 프로토타입을 교체
Object.setPrototypeOf(obj, parent); // obj.__proto__ = parent;

console.log(obj.x); // 1

```
### 19.3.2 함수 객체의 prototype 프로퍼티

#### 함수 객체만이 소유하는 prototype 프로퍼티는 생성자 함수가 생성할 인스턴스의 프로토타입을 가리킨다.

- 모든 객체가 가지고 있는(엄밀히 말하면 Object.prototype으로부터 상속받은) __ proto __ 접근자 프로퍼티와 함수 객체만이 가지고 있는 prototype 프로퍼티는 결국 동일한 프로토타입을 가리킨다
- 하지만 사용하는 주체가 다르다.

<img width="559" alt="스크린샷 2022-07-13 오후 3 34 24" src="https://user-images.githubusercontent.com/95524491/178666590-371a49d1-6816-4e67-ba81-56e4075ea49d.png">

<img width="491" alt="스크린샷 2022-07-13 오후 3 35 43" src="https://user-images.githubusercontent.com/95524491/178666828-1ca289e5-38ca-4283-bff4-f97a0f7bc23c.png">

### 19.3.3 프로토타입의 constructor 프로퍼티와 생성자 함수

#### 모든 프로토타입은 constructor 프로퍼티를 갖는다.
#### constructor 프로퍼티는 prototype 프로퍼티로 자신을 참조하고 있는 생성자 함수를 가리킨다. 
#### 이 연결은 생성자 함수가 생성될 때, 즉 함수 객체가 생성될 때 이뤄진다

<img width="402" alt="스크린샷 2022-07-13 오후 3 38 56" src="https://user-images.githubusercontent.com/95524491/178667322-038ba1ce-c85b-4b1b-be24-fc9d37b6845d.png">

## 19.4 리터럴 표기법에 의해 생성된 객체의 생성자 함수와 프로토타입

### 리터럴 표기법에 의해 생성된 객체도 상속을 위해 프로토타입이 필요하다. 

### 따라서 리터럴 표기법에 의해 생성된 객체도 가상적인 생성자 함수를 갖는다.

### 프로토타입과 생성자 함수는 단독으로 존재할 수 없고 항상 쌍으로 존재한다.

- 큰 틀에서 생각해 보면 리터럴 표기법으로 생성한 객체도 생성자 함수로 생성한 객체와 본질적인 면에서 큰 차이는 없다

<img width="448" alt="스크린샷 2022-07-13 오후 3 45 39" src="https://user-images.githubusercontent.com/95524491/178668505-8097f5a3-699f-4034-8828-d68724733138.png">
