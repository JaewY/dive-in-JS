# 21장 빌트인 객체

## 21.1 자바스크립트 객체의 분류

### 1. 표준 빌트인 객체
- ECMAScript 사양에 정의된 객체이다.
- 자바스크립트 실행환경과 상관없이 언제나 사용가능하다.
- 별도의 선언 없이 언제나 전역 변수처럼 언제나 참조할 수 있다.

### 2. 호스트 객체
- ECMAScript 사양에 정의되지 않은 객체이다
- 자바스크립트 실행환경에서 추가로 제공한다
- 브라우저 : DOM , Canvas , fetch , Web Worker 등등

### 3. 사용자 정의 객체
- 사용자가 직접 정의한 객체를 말한다.

## 21.2 표준 빌트인 객체

### Math, Reflect, JSON을 제외한 표준 빌트인 객체는 모두 인스턴스를 생성할 수 있는 생성자 함수 객체다.

```Js
// String 생성자 함수에 의한 String 객체 생성
const strObj = new String('Lee'); // String {"Lee"}

// String 생성자 함수를 통해 생성한 strObj 객체의 프로토타입은 String.prototype이다.
console.log(Object.getPrototypeOf(strObj) === String.prototype); // true
```

- 표준 빌트인 객체의 prototype 프로퍼티에 바인딩된 객체(예를 들어, String.prototype)는 다양한 기능의 빌트인 프로토타입 메서드를 제공한다. 
- 그리고 표준 빌트인 객체는 인스턴스 없이도 호출 가능한 빌트인 정적 메서드를 제공한다.

## 21.3 원시값과 래퍼 객체

### 문자열, 숫자, 불리언 값에 대해 객체처럼 접근하면 생성되는 임시 객체를 래퍼 객체라 한다. 

- 원시값은 객체가 아니므로 프로퍼티나 메서드를 가질 수 없는데도 원시값인 문자열이 마치 객체처럼 동작한다.
- 원시값을 객체처럼 사용하면 자바스크립트 엔진은 암묵적으로 연관된 객체를 생성하여 생성된 객체로 프로퍼티에 접근하거나 메서드를 호출하고 다시 원시값으로 되돌린다.
- 문자열, 숫자, 불리언, 심벌 이외의 원시값, 즉 null과 undefined는 래퍼 객체를 생성하지 않는다. 
- 따라서 null과 undefined 값을 객체처럼 사용하면 에러가 발생한다.

```Js
const str = 'hello';

// 원시 타입인 문자열이 프로퍼티와 메서드를 갖고 있는 객체처럼 동작한다.
console.log(str.length); // 5
console.log(str.toUpperCase()); // HELLO

```
## 21.4 전역 객체

### 코드가 실행되기 이전 단계에 자바스크립트 엔진에 의해 어떤 객체보다도 먼저 생성되는 특수한 객체이며, 어떤 객체에도 속하지 않은 최상위 객체다.

- 브라우저 환경에서는 window , node js에서는 global
- 전역 객체는 표준 빌트인 객체 , 호스트 객체 , var로 선언한 전역 변수와 전역 함수를 프로퍼티로 갖는다. 

### 21.4.1 빌트인 전역 프로퍼티 

#### 전역 객체의 프로퍼티를 의미한다

1. Infinity
2. NaN
3. undefined

```Js
console.log(window.Infinity) // Infinity
console.log(window.Nan) // NaN
console.log(winodw.undefined) // undefined

```

### 21.4.2 빌트인 전역 함수 

### 애플리케이션 전체에서 호출할 수 있는 빌트인 함수로서 전역 객체의 메서드다.

1. eval

#### eval 함수는 보안에 취약하고 자바스크립트 엔진에 의해 최적하가 되지 않으므로 처리 속도도 느리므로 사용을 금지해야 한다.

- eval 함수는 자바스크립트 코드를 나타내는 문자열을 인수로 전달받는다
- 전달받은 문자열 코드가 표현식이라면 eval 함수는 문자열 코드를 런타임에 평가하여 값을 생성하고
- 전달받은 인수가 표현식이 아닌 문이라면 eval 함수는 문자열 코드를 런타임에 실행한다
- 문자열 코드가 여러 개의 문으로 이루어져 있다면 모든 문을 실행한다
- 인수로 전달받은 문자열 코드가 여러 개의 문으로 이루어져 있다면 모든 문을 실행한 다음, 마지막 결과값을 반환한다.
- eval 함수는 기존의 스코프를 런타임에 동적으로 수정한다

```Js 
//표현식인 문 
eval('1 + 2;'); //  3
// 표현식이 아닌 문
eval('var x = 5;'); //  undefined

// eval 함수에 의해 런타임에 변수 선언문이 실행되어 x 변수가 선언되었다.
console.log(x); // 5

```
2. isFinite

- 전달받은 인수가 정상적인 유한수인지 검사하여 유한수이면 true를 반환하고, 무한수이면 false를 반환한다.
- 전달받은 인수가 NaN이라면 false를 반환한다.

3. isNaN

- 전달받은 인수가 NaN인지 검사하여 그 결과를 불리언 타입으로 반환한다

4. parseFloat

- 전달받은 문자열 인수를 부동 소수점 숫자 즉, 실수로 해석하여 반환한다.

5. parseInt

- 전달받은 문자열 인수를 정수로 해석하여 반환한다

- 두 번째 인수로 진법을 나타내는 기수(2 ~ 36)를 전달할 수 있다. 
- 기수를 지정하면 첫 번째 인수로 전달된 문자열을 해당 기수의 숫자로 해석하여 반환한다. 
- 이때 반환값은 언제나 10진수다.
- 기수를 생략하면 첫 번째 인수로 전달된 문자열을 10진수로 해석하여 반환한다.
- 참고로 기수를 지정하여 10진수 숫자를 해당 기수의 문자열로 변환하여 반환하고 싶을 때는 Number.prototype.toString 메서드를 사용한다.

6. encodURI/decodeURI

- encodeURI 함수는 완전한 URI를 문자열로 전달받아 이스케이프 처리를 위해 인코딩한다.
- decodeURI 함수는 인코딩된 URI를 인수로 전달받아 이스케이프 처리 이전으로 디코딩한다
- URI는 인터넷에 있는 자원을 나타내는 유일한 주소를 말한다. URI의 하위개념으로 URL, URN이 있다.
- 인코딩:  URI의 문자들을 이스케이프 처리하는 것을 의미한다. 
- 이스케이프 처리 : 네트워크를 통해 정보를 공유할 때 어떤 시스템에서도 읽을 수 있는 아스키 문자 셋으로 변환하는 것이다.

<img width="522" alt="스크린샷 2022-07-14 오후 2 10 29" src="https://user-images.githubusercontent.com/95524491/178903973-f7f1649d-bae4-4f9a-987e-c4314e39d060.png">

7. encodeURIComponent / decodeURIComponent

- encodeURIComponent 함수는 URI 구성 요소를 인수로 전달받아 인코딩한다.
- decodeURIComponent 함수는 매개변수로 전달된 URI 구성 요소를 디코딩한다.

### 21.4.3 암묵적 전역

### 아래의 예에서 자바스크립트 엔진은 y = 20을 window.y = 20으로 해석하여 전역 객체에 프로퍼티를 동적 생성한다. 
### 결국 y는 전역 객체의 프로퍼티가 되어 마치 전역 변수처럼 동작한다. 
### 이러한 현상을 암묵적 전역이라 한다.
### y는 단지 전역 객체의 프로퍼티가 되었을 뿐 변수가 아니라서 호이스팅이 발생하지 않는다. 
### 변수가 아니라서 delete로 삭제 가능하다. 전역 변수였다면 삭제가 불가능

```Js
var x = 10 ;

function test() {
  y = 20;
}

test()
console.log(x+y) // 30

```






