# 40장 이벤트 (2)

## 40.5 이벤트 객체

### 이벤트가 발생하면 이벤트에 관련한 다양한 정보를 담고 있는 이벤트 객체가 동적으로 생성된다.

- 생성된 이벤트 객체는 이벤트 핸들러의 첫 번째 인수로 전달된다.

- 이벤트 핸들러 어트리뷰트 방식의 경우 이벤트 객체를 전달받으려면 이벤트 핸들러의 첫 번째 매개변수 이름이 반드시 event이어야 한다.

```Js
const $msg = document.querySelector('.message');

// 클릭 이벤트에 의해 생성된 이벤트 객체는 이벤트 핸들러의 첫 번째 인수로 전달된다.
function showCoords(e) {
    $msg.textContent = clientX: ${e.clientX}, clientY: ${e.clientY};
}

document.onclick = showCoords;
```

### 40.5.1 이벤트 객체의 상속 구조

- 이벤트가 발생하면 이벤트 타입에 따라 다양한 타입의 이벤트 객체가 생성된다.

- 이벤트 객체는 다음과 같은 상속 구조를 갖는다.

<img width="469" alt="스크린샷 2022-08-30 오후 2 41 05" src="https://user-images.githubusercontent.com/95524491/187358359-2a794628-0065-452c-81bd-5d3ba2dcfd55.png">

- Event 인터페이스에는 모든 이벤트 객체의 공통 프로퍼티가 정의되어 있고 FocusEvent, MouseEvent, KeyboardEvent, WheelEvent 같은 하위 인터페이스에는 이벤트 타입에 따라 고유한 프로퍼티가 정의되어 있다

### 40.5.2 이벤트 객체의 공통 프로퍼티

- Event 인터페이스, 즉 Event.prototype에 정의되어 있는 이벤트 관련 프로퍼티는 UIEvent, CustomEvent, MouseEvent 등 모든 파생 이벤트 객체에 상속된다.

- 즉, Event 인터페이스의 이벤트 관련 프로퍼티는 모든 이벤트 객체가 상속받는 공통 프로퍼티다.

<img width="560" alt="스크린샷 2022-08-30 오후 2 46 01" src="https://user-images.githubusercontent.com/95524491/187359004-edb2e6b2-1370-4e3a-9319-eb62ce0ef0a3.png">

<img width="559" alt="스크린샷 2022-08-30 오후 2 46 51" src="https://user-images.githubusercontent.com/95524491/187359095-4e9b19fa-96fe-4fe8-a37c-1e7b89410825.png">

- 일반적으로 이벤트 객체의 target 프로퍼티와 currentTarget 프로퍼티는 동일한 DOM 요소를 가리키지만 이벤트 위임에서는 이벤트 객체의 target 프로퍼티와 currentTarget 프로퍼티가 서로 다른 DOM 요소를 가리킬 수 있다.

### 40.5.3 마우스 정보 취득

- click, dblclick, mousedown, mouseup, mousemove, mouseenter, mouseleave 이벤트가 발생하면 생성되는 MouseEvent타입의 이벤트 객체는 다음과 같은 고유의 프로퍼티를 갖는다.
  - 마우스 포인터의 좌표 정보를 나타내는 프로퍼티: screenX/screenY, clientX/clientY, pageX/pageY, offsetX/offsetY
  - 버튼 정보를 나타내는 프로퍼티: altKey, ctrlKey, shiftKey, button

### 40.5.4 키보드 정보 취득

- keydown, keyup, keypress 이벤트가 발생하면 생성되는 KeyboardEvent타입의 이벤트 객체는 altKey, ctrlKey, shiftKey, metaKey, key, keyCode같은 고유의 프로퍼티를 갖는다

## 40.6 이벤트 전파

### 이벤트 전파 : DOM 트리 상에 존재하는 DOM 요소 노드에서 발생한 이벤트는 DOM 트리를 통해 전파되는것
